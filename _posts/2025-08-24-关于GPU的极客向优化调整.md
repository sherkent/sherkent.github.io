---
title: 关于GPU的极客向优化调整
slug: gpu_optimize
date: 2025-08-24 00:39:00 +0800
categories: [安卓]
tags: [安卓, 优化]
author: "VeilCode & nakixi"
---

本篇为 **骁龙 GPU bus 与 ACD 参数调校指南**，使用的工具为 **KonaBess**。  
适用于 **内核 4.14–6.6** 的全部骁龙设备。  

---

## 1 基本概念

**bus**：GPU ↔ DDR 的数据总线，通过 **vote 机制** 决定内存频率。  
**vote 机制**：各部件各自请求一个频率，最终内存以 **最高请求值** 运行。  

### 要点
- bus 参数同时决定 **最大频率** 与 **最小频率**。  
- GPU 的 vote 仅在 GPU 工作时存在，静置时不会产生功耗。  
- 早期将 `bus_dcvs/DDR` 输出误认为真实频率，实际上只是估算值。  

---

## 2 bus 参数调整

### 2.1 三个参数
- **bus-max**：上限  
- **bus-min**：下限  
- **bus-freq**：默认值（几乎无意义）  

### 2.2 调整策略
- **bus-max**：建议直接使用默认表中的相近档位（性能与能效平衡）。如有条件，可实测最优值，但误差难以控制。  
- **bus-min / bus-freq**：一律设为 `1`。  

⚠️ 注意：将所有档位拉到最低并不省电。实测发现，8G3@480 MHz 时，`bus 3` 的能效甚至优于 `bus 1`。  

### 2.3 推荐最大频率
| 频率 | 场景 |
|---|---|
| **6400** | 日常使用足够 |
| **7500** | 高性能需求 |
| **8533** | 仅限 8 Elite 等高频宽设备，能效差 |

---

## 3 频率与电压

### 3.1 频率
- 同电压等级下，只保留 **最高可稳定频率**。  
- 降频不会提升能效，反而可能更差。  
- 同电压下所有 bus 档位实际使用 **最低档位参数**，因此无法通过降频缩放 bus。  

### 3.2 电压
- 8 Elite 的有效电压等级：
`NOM_L2, NOM_L0, NOM,  
SVS_L2, SVS_L1, SVS_L0,  
LOW_SVS_L2, LOW_SVS_P1, LOW_SVS_D0, LOW_SVS_D1, LOW_SVS_D2, RETENTION`

- 如果最低档位出现大范围轻微不稳定，**直接删除该档**，对能效几乎无影响。  

---

## 4 ACD 参数

**ACD（Active Clock Distribution）**  
用于缓解电压下跌（Voltage Droop），通过调整 GPU 时钟占空比来提升稳定性。  

### acd-level 含义
- `0` → **ACD 永不激活**（唯一正确值）  
- `0xFFFFFFFF` → 始终激活，性能下降  
- 其他值 → 视情况激活  

实测结论：在降压设备上，ACD 并不会提升稳定性，反而带来性能损失，因此 **必须设为 0**。  

---

## 总结

- bus-min/freq 固定设为 `1`，bus-max 选合理档位。  
- 降频无效，只需保留同电压下的最高稳定频率。  
- 电压档可删掉最低档以提升整体稳定性。  
- **ACD 必须设为 0**，否则只会拖累性能。  
- 如果没有时间细调，不建议盲目降压。  
- 肯花时间实测，结果一定优于抄作业。  

---

## 特别感谢
- **nakixi**（本文整理自其多篇文章）